
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Projet de fin d'année - ITWay">
      
      
        <meta name="author" content="Firase JEMAA & Najet BOUKADOUR">
      
      
      
        <link rel="prev" href="../it/grafana/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Phase 3 - ITWay</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#integration-de-wazuh-dans-linfrastructure-itway" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href=".." title="ITWay" class="md-header__button md-logo" aria-label="ITWay" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ITWay
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Phase 3
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Passer en mode clair"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer en mode clair" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="salte" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Passer en mode sombre"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer en mode sombre" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/FirasJemaa/Projet_DSNS_playbook" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Accueil

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../phase1/" class="md-tabs__link">
          
  
  
  Phase 1

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../phase2/" class="md-tabs__link">
          
  
  
  Phase 2

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  Phase 3

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ITWay" class="md-nav__button md-logo" aria-label="ITWay" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ITWay
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/FirasJemaa/Projet_DSNS_playbook" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Phase 1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Phase 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Présentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Phase 2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Phase 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../phase2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Présentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../conception/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conception du projet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Infrastructure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prerequis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prérequis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Routeurs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Routeurs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../routeurs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration des Routeurs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core-rt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CORE-RT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dmz-rt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-RT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SRV
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            SRV
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../srv/srv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objectif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../srv/ad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SRV-AD
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../srv/pki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SRV-PKI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../srv/mail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SRV-MAIL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    DMZ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            DMZ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dmz/dmz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objectif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dmz/dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-DNS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dmz/rproxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-RPROXY
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dmz/web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-WEB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dmz/smtp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-SMTP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    IT
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            IT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../it/it/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objectif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../it/ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IT-ANSIBLE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../it/grafana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IT-GRAFANA
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Phase 3
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Phase 3
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-presentation-de-wazuh-dans-le-projet" class="md-nav__link">
    <span class="md-ellipsis">
      1. Présentation de Wazuh dans le projet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Présentation de Wazuh dans le projet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-quest-ce-que-loutil-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      1. Qu’est-ce que l’outil Wazuh ?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pourquoi-isoler-wazuh-dans-un-vlan-dedie" class="md-nav__link">
    <span class="md-ellipsis">
      2. Pourquoi isoler Wazuh dans un vlan dédié ?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuration-reseau-de-la-machine-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configuration réseau de la machine Wazuh
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Configuration réseau de la machine Wazuh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-de-connectivite-internet" class="md-nav__link">
    <span class="md-ellipsis">
      Test de connectivité Internet
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-preparation-de-la-machine-wazuh-debianubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      3. Préparation de la machine Wazuh (Debian/Ubuntu)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-installation-automatisee-de-wazuh-serveur-complet" class="md-nav__link">
    <span class="md-ellipsis">
      4. Installation automatisée de Wazuh (serveur complet)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Installation automatisée de Wazuh (serveur complet)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#telechargement" class="md-nav__link">
    <span class="md-ellipsis">
      Téléchargement :
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-connexion-a-linterface-web" class="md-nav__link">
    <span class="md-ellipsis">
      5. Connexion à l’interface web
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-integration-dun-poste-windows-ex-serveur-ad" class="md-nav__link">
    <span class="md-ellipsis">
      6. Intégration d’un poste Windows (ex. : serveur AD)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Intégration d’un poste Windows (ex. : serveur AD)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etapes-depuis-le-poste-windows" class="md-nav__link">
    <span class="md-ellipsis">
      Étapes depuis le poste Windows :
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Étapes depuis le poste Windows :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-telecharger-lagent-msi-depuis-le-site-wazuh-linstaller-et-renseigner-lip-du-serveur-wazuh-puis-save" class="md-nav__link">
    <span class="md-ellipsis">
      1. Télécharger l’agent .msi depuis le site Wazuh, l’installer et renseigner l’ip du serveur Wazuh puis Save :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sur-linterface-graphique-du-serveur-renseigner-les-champs" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sur l’interface graphique du serveur, renseigner les champs :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-copier-la-commande-en-bas-de-page-puis-demarrer-le-service-wazuh-en-la-collant-sur-le-terminal-du-serveur-windows" class="md-nav__link">
    <span class="md-ellipsis">
      3. Copier la commande en bas de page, puis démarrer le service Wazuh en la collant sur le terminal du serveur Windows :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-sur-la-fenetre-wazuh-agent-cliquer-sur-refresh-pour-faire-apparaitre-la-cle" class="md-nav__link">
    <span class="md-ellipsis">
      4. Sur la fenêtre Wazuh Agent, cliquer sur Refresh pour faire apparaître la clé :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-retourner-dans-linterface-web-de-wazuh-pour-verifier-lapparition-du-poste" class="md-nav__link">
    <span class="md-ellipsis">
      5. Retourner dans l’interface web de Wazuh pour vérifier l’apparition du poste.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-integration-dun-poste-linux" class="md-nav__link">
    <span class="md-ellipsis">
      7. Intégration d’un poste Linux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Intégration d’un poste Linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-installation-de-gnupg" class="md-nav__link">
    <span class="md-ellipsis">
      a. Installation de GnuPG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-importation-de-la-cle-gpg-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      b. Importation de la clé GPG Wazuh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-deplacement-et-permission-de-la-cle" class="md-nav__link">
    <span class="md-ellipsis">
      c. Déplacement et permission de la clé
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d-ajout-du-depot-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      d. Ajout du dépôt Wazuh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-mise-a-jour-des-depots-et-installation-de-lagent" class="md-nav__link">
    <span class="md-ellipsis">
      e. Mise à jour des dépôts et installation de l’agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f-activation-du-service" class="md-nav__link">
    <span class="md-ellipsis">
      f. Activation du service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#g-ajout-du-module-docker-listener" class="md-nav__link">
    <span class="md-ellipsis">
      g. Ajout du module docker-listener
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-presentation-de-wazuh-dans-le-projet" class="md-nav__link">
    <span class="md-ellipsis">
      1. Présentation de Wazuh dans le projet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Présentation de Wazuh dans le projet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-quest-ce-que-loutil-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      1. Qu’est-ce que l’outil Wazuh ?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-pourquoi-isoler-wazuh-dans-un-vlan-dedie" class="md-nav__link">
    <span class="md-ellipsis">
      2. Pourquoi isoler Wazuh dans un vlan dédié ?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-configuration-reseau-de-la-machine-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      2. Configuration réseau de la machine Wazuh
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Configuration réseau de la machine Wazuh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#test-de-connectivite-internet" class="md-nav__link">
    <span class="md-ellipsis">
      Test de connectivité Internet
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-preparation-de-la-machine-wazuh-debianubuntu" class="md-nav__link">
    <span class="md-ellipsis">
      3. Préparation de la machine Wazuh (Debian/Ubuntu)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-installation-automatisee-de-wazuh-serveur-complet" class="md-nav__link">
    <span class="md-ellipsis">
      4. Installation automatisée de Wazuh (serveur complet)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Installation automatisée de Wazuh (serveur complet)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#telechargement" class="md-nav__link">
    <span class="md-ellipsis">
      Téléchargement :
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-connexion-a-linterface-web" class="md-nav__link">
    <span class="md-ellipsis">
      5. Connexion à l’interface web
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-integration-dun-poste-windows-ex-serveur-ad" class="md-nav__link">
    <span class="md-ellipsis">
      6. Intégration d’un poste Windows (ex. : serveur AD)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Intégration d’un poste Windows (ex. : serveur AD)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etapes-depuis-le-poste-windows" class="md-nav__link">
    <span class="md-ellipsis">
      Étapes depuis le poste Windows :
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Étapes depuis le poste Windows :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-telecharger-lagent-msi-depuis-le-site-wazuh-linstaller-et-renseigner-lip-du-serveur-wazuh-puis-save" class="md-nav__link">
    <span class="md-ellipsis">
      1. Télécharger l’agent .msi depuis le site Wazuh, l’installer et renseigner l’ip du serveur Wazuh puis Save :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-sur-linterface-graphique-du-serveur-renseigner-les-champs" class="md-nav__link">
    <span class="md-ellipsis">
      2. Sur l’interface graphique du serveur, renseigner les champs :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-copier-la-commande-en-bas-de-page-puis-demarrer-le-service-wazuh-en-la-collant-sur-le-terminal-du-serveur-windows" class="md-nav__link">
    <span class="md-ellipsis">
      3. Copier la commande en bas de page, puis démarrer le service Wazuh en la collant sur le terminal du serveur Windows :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-sur-la-fenetre-wazuh-agent-cliquer-sur-refresh-pour-faire-apparaitre-la-cle" class="md-nav__link">
    <span class="md-ellipsis">
      4. Sur la fenêtre Wazuh Agent, cliquer sur Refresh pour faire apparaître la clé :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-retourner-dans-linterface-web-de-wazuh-pour-verifier-lapparition-du-poste" class="md-nav__link">
    <span class="md-ellipsis">
      5. Retourner dans l’interface web de Wazuh pour vérifier l’apparition du poste.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-integration-dun-poste-linux" class="md-nav__link">
    <span class="md-ellipsis">
      7. Intégration d’un poste Linux
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Intégration d’un poste Linux">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-installation-de-gnupg" class="md-nav__link">
    <span class="md-ellipsis">
      a. Installation de GnuPG
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b-importation-de-la-cle-gpg-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      b. Importation de la clé GPG Wazuh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#c-deplacement-et-permission-de-la-cle" class="md-nav__link">
    <span class="md-ellipsis">
      c. Déplacement et permission de la clé
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#d-ajout-du-depot-wazuh" class="md-nav__link">
    <span class="md-ellipsis">
      d. Ajout du dépôt Wazuh
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#e-mise-a-jour-des-depots-et-installation-de-lagent" class="md-nav__link">
    <span class="md-ellipsis">
      e. Mise à jour des dépôts et installation de l’agent
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#f-activation-du-service" class="md-nav__link">
    <span class="md-ellipsis">
      f. Activation du service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#g-ajout-du-module-docker-listener" class="md-nav__link">
    <span class="md-ellipsis">
      g. Ajout du module docker-listener
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="integration-de-wazuh-dans-linfrastructure-itway">Intégration de Wazuh dans l’infrastructure itway<a class="headerlink" href="#integration-de-wazuh-dans-linfrastructure-itway" title="Permanent link">🔗</a></h1>
<h2 id="1-presentation-de-wazuh-dans-le-projet">1. Présentation de Wazuh dans le projet<a class="headerlink" href="#1-presentation-de-wazuh-dans-le-projet" title="Permanent link">🔗</a></h2>
<h3 id="1-quest-ce-que-loutil-wazuh">1. Qu’est-ce que l’outil Wazuh ?<a class="headerlink" href="#1-quest-ce-que-loutil-wazuh" title="Permanent link">🔗</a></h3>
<p>Dans le cadre de notre infrastructure réseau sécurisée virtualisée sous GNS3, Wazuh joue un rôle clé dans la surveillance de la sécurité, la détection d'intrusions, et le monitoring des postes et serveurs critiques (tels que l’Active Directory, les serveurs exposés dans la DMZ ou les hôtes internes Linux).<br />
 Il s’intègre comme un SIEM, permettant ainsi de collecter, analyser et corréler les logs, détecter des comportements suspects, assurer la conformité, et réagir en cas d’anomalies.</p>
<p>Wazuh se compose de trois éléments principaux :</p>
<ul>
<li><strong>Wazuh Server</strong> : centralise les événements, applique les règles, gère les agents.  </li>
<li><strong>Wazuh Indexer</strong> : moteur de recherche basé sur OpenSearch pour stocker et interroger les événements.  </li>
<li><strong>Wazuh Dashboard</strong> : interface web d’administration et de visualisation.  </li>
<li><strong>Wazuh Agent</strong> : installé sur chaque machine supervisée (serveurs Linux/Windows) pour envoyer les logs au serveur.</li>
</ul>
<h3 id="2-pourquoi-isoler-wazuh-dans-un-vlan-dedie">2. Pourquoi isoler Wazuh dans un vlan dédié ?<a class="headerlink" href="#2-pourquoi-isoler-wazuh-dans-un-vlan-dedie" title="Permanent link">🔗</a></h3>
<p>Le serveur Wazuh :</p>
<ul>
<li>centralise les logs de sécurité,  </li>
<li>contient des informations sensibles sur les machines surveillées (journalisation, alertes, signatures d’attaque, règles de détection),  </li>
<li>possède des accès aux agents déployés sur l’ensemble des serveurs.</li>
</ul>
<p><strong>S’il est compromis, c’est toute la visibilité sécurité du SIEM qui est perdue.</strong></p>
<p>En l’isolant dans un VLAN, on protège ce nœud stratégique de l’infrastructure contre les mouvements latéraux d’attaquants internes, les infections non ciblées ou les attaques directes depuis la DMZ ou d'autres zones à risque.</p>
<p>Cela permet également de contrôler précisément les flux autorisés entre tous les VLAN de l’infrasructure itway et le VLAN de Wazuh. Ainsi on peut configurer le pare-feu pour autoriser uniquement les communications de type agent → serveur Wazuh et interdire les connexions entrantes depuis toute autre source non autorisée.</p>
<hr />
<h2 id="2-configuration-reseau-de-la-machine-wazuh">2. Configuration réseau de la machine Wazuh<a class="headerlink" href="#2-configuration-reseau-de-la-machine-wazuh" title="Permanent link">🔗</a></h2>
<p>La machine virtuelle hébergeant la pile Wazuh est configurée avec une IP statique afin d'assurer la fiabilité des communications avec les agents.</p>
<p><strong>Paramètres réseau</strong> :</p>
<ul>
<li><strong>Adresse IP</strong> : <code>172.16.60.4</code>  </li>
<li><strong>Masque de sous-réseau</strong> : <code>255.255.255.248</code>  </li>
<li><strong>Passerelle</strong> : <code>172.16.60.1</code></li>
</ul>
<h3 id="test-de-connectivite-internet">Test de connectivité Internet<a class="headerlink" href="#test-de-connectivite-internet" title="Permanent link">🔗</a></h3>
<div class="highlight"><pre><span></span><code>ping<span class="w"> </span><span class="m">8</span>.8.8.8
</code></pre></div>
<hr />
<h2 id="3-preparation-de-la-machine-wazuh-debianubuntu">3. Préparation de la machine Wazuh (Debian/Ubuntu)<a class="headerlink" href="#3-preparation-de-la-machine-wazuh-debianubuntu" title="Permanent link">🔗</a></h2>
<p>Avant d’installer Wazuh, il est important de mettre à jour le système :
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w">  </span>
sudo<span class="w"> </span>apt<span class="w"> </span>upgrade
</code></pre></div></p>
<hr />
<h2 id="4-installation-automatisee-de-wazuh-serveur-complet">4. Installation automatisée de Wazuh (serveur complet)<a class="headerlink" href="#4-installation-automatisee-de-wazuh-serveur-complet" title="Permanent link">🔗</a></h2>
<h3 id="telechargement">Téléchargement :<a class="headerlink" href="#telechargement" title="Permanent link">🔗</a></h3>
<p><div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sO<span class="w"> </span>https://packages.wazuh.com/4.12/wazuh-install.sh
</code></pre></div>
Exécution du script officiel : 
<div class="highlight"><pre><span></span><code>bash<span class="w"> </span>wazuh-install.sh<span class="w"> </span>-a
</code></pre></div></p>
<p><strong>Ce script</strong> :</p>
<ul>
<li>Installe toutes les dépendances</li>
<li>Configure les différents services de Wazuh  (indexer, dashboard, serveur)</li>
<li>Démarre les composants nécessaires</li>
</ul>
<p><strong>Fin de l’installation</strong> :
Voici la confirmation de l’achèvement de l’installation et les identifiants de connexion
<div class="highlight"><pre><span></span><code><span class="m">29</span>/05/2025<span class="w"> </span><span class="m">08</span>:18:12<span class="w"> </span>INFO:<span class="w"> </span>You<span class="w"> </span>can<span class="w"> </span>access<span class="w"> </span>the<span class="w"> </span>web<span class="w"> </span>interface<span class="w"> </span>https://&lt;wazuh-dashboard-ip&gt;:443
<span class="w">    </span>User:<span class="w"> </span>admin
<span class="w">    </span>Password:<span class="w"> </span>**********
<span class="m">29</span>/05/2025<span class="w"> </span><span class="m">08</span>:18:12<span class="w"> </span>INFO:<span class="w"> </span>Installation<span class="w"> </span>finished.
</code></pre></div></p>
<hr />
<h2 id="5-connexion-a-linterface-web">5. Connexion à l’interface web<a class="headerlink" href="#5-connexion-a-linterface-web" title="Permanent link">🔗</a></h2>
<p>Accéder à : 
<div class="highlight"><pre><span></span><code>https://172.16.60.4:443
</code></pre></div></p>
<p>S'authentifier avec les identifiants fournis à la fin de l’installation.</p>
<hr />
<h2 id="6-integration-dun-poste-windows-ex-serveur-ad">6. Intégration d’un poste Windows (ex. : serveur AD)<a class="headerlink" href="#6-integration-dun-poste-windows-ex-serveur-ad" title="Permanent link">🔗</a></h2>
<h3 id="etapes-depuis-le-poste-windows">Étapes depuis le poste Windows :<a class="headerlink" href="#etapes-depuis-le-poste-windows" title="Permanent link">🔗</a></h3>
<h4 id="1-telecharger-lagent-msi-depuis-le-site-wazuh-linstaller-et-renseigner-lip-du-serveur-wazuh-puis-save">1. Télécharger l’agent <code>.msi</code> depuis le <a href="https://packages.wazuh.com/">site Wazuh</a>, l’installer et renseigner l’ip du serveur Wazuh puis <strong>Save</strong> :<a class="headerlink" href="#1-telecharger-lagent-msi-depuis-le-site-wazuh-linstaller-et-renseigner-lip-du-serveur-wazuh-puis-save" title="Permanent link">🔗</a></h4>
<p><img alt="Wazuh agent avant" src="../images/wazuh1.png" /></p>
<h4 id="2-sur-linterface-graphique-du-serveur-renseigner-les-champs">2. Sur l’interface graphique du serveur, renseigner les champs :<a class="headerlink" href="#2-sur-linterface-graphique-du-serveur-renseigner-les-champs" title="Permanent link">🔗</a></h4>
<ul>
<li>Assign a server address : <code>itway.local</code>  </li>
<li>Select one or more existing groups : <code>default</code></li>
</ul>
<h4 id="3-copier-la-commande-en-bas-de-page-puis-demarrer-le-service-wazuh-en-la-collant-sur-le-terminal-du-serveur-windows">3. Copier la commande en bas de page, puis démarrer le service Wazuh en la collant sur le terminal du serveur Windows :<a class="headerlink" href="#3-copier-la-commande-en-bas-de-page-puis-demarrer-le-service-wazuh-en-la-collant-sur-le-terminal-du-serveur-windows" title="Permanent link">🔗</a></h4>
<div class="highlight"><pre><span></span><code>NET<span class="w"> </span>START<span class="w"> </span>WazuhSvc
</code></pre></div>
<p>Le terminal indiquera que le service a démarré.</p>
<h4 id="4-sur-la-fenetre-wazuh-agent-cliquer-sur-refresh-pour-faire-apparaitre-la-cle">4. Sur la fenêtre Wazuh Agent, cliquer sur <strong>Refresh</strong> pour faire apparaître la clé :<a class="headerlink" href="#4-sur-la-fenetre-wazuh-agent-cliquer-sur-refresh-pour-faire-apparaitre-la-cle" title="Permanent link">🔗</a></h4>
<p><img alt="Wazuh agent apres" src="../images/wazuh2.png" /></p>
<h4 id="5-retourner-dans-linterface-web-de-wazuh-pour-verifier-lapparition-du-poste">5. Retourner dans l’interface web de Wazuh pour vérifier l’apparition du poste.<a class="headerlink" href="#5-retourner-dans-linterface-web-de-wazuh-pour-verifier-lapparition-du-poste" title="Permanent link">🔗</a></h4>
<p><img alt="Wazuh Dashboard" src="../images/wazuh3.png" /></p>
<hr />
<h2 id="7-integration-dun-poste-linux">7. Intégration d’un poste Linux<a class="headerlink" href="#7-integration-dun-poste-linux" title="Permanent link">🔗</a></h2>
<h3 id="a-installation-de-gnupg">a. Installation de GnuPG<a class="headerlink" href="#a-installation-de-gnupg" title="Permanent link">🔗</a></h3>
<div class="highlight"><pre><span></span><code>apt<span class="w"> </span>install<span class="w"> </span>gnupg
</code></pre></div>
<p>Cette commande utilise le gestionnaire de paquets apt pour installer GNU Privacy Guard, un outil de chiffrement et de signature permettant de gérer des clés GPG. GnuPG est nécessaire ici pour importer et vérifier la clé GPG du dépôt Wazuh, garantissant l'authenticité des paquets téléchargés.</p>
<h3 id="b-importation-de-la-cle-gpg-wazuh">b. Importation de la clé GPG Wazuh<a class="headerlink" href="#b-importation-de-la-cle-gpg-wazuh" title="Permanent link">🔗</a></h3>
<p><div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-s<span class="w"> </span>https://packages.wazuh.com/key/GPG-KEY-WAZUH<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="se">\ </span><span class="w"> </span>
gpg<span class="w"> </span>--no-default-keyring<span class="w"> </span>--keyring<span class="w"> </span>gnupg-ring:/tmp/wazuh.gpg<span class="w"> </span>--import
</code></pre></div>
Cette commande télécharge la clé GPG publique de Wazuh depuis leur site officiel à l'aide de <code>curl -s</code> (en mode silencieux). La clé est ensuite importée dans un trousseau temporaire nommé <code>/tmp/wazuh.gpg</code> en utilisant gpg. L'option <code>--no-default-keyring</code> empêche l'utilisation du trousseau par défaut, et <code>--keyring gnupg-ring:/tmp/wazuh.gpg</code> spécifie un fichier temporaire pour stocker la clé importée.</p>
<h3 id="c-deplacement-et-permission-de-la-cle">c. Déplacement et permission de la clé<a class="headerlink" href="#c-deplacement-et-permission-de-la-cle" title="Permanent link">🔗</a></h3>
<p><div class="highlight"><pre><span></span><code>mv<span class="w"> </span>/tmp/wazuh.gpg<span class="w"> </span>/usr/share/keyrings/wazuh.gpg<span class="w">  </span>
</code></pre></div>
Cette commande déplace le fichier temporaire <code>/tmp/wazuh.gpg</code> vers un emplacement standard pour les clés GPG, <code>/usr/share/keyrings/wazuh.gpg</code>, afin qu'il soit utilisé par le système pour vérifier les paquets du dépôt Wazuh.
<div class="highlight"><pre><span></span><code>chmod<span class="w"> </span><span class="m">644</span><span class="w"> </span>/usr/share/keyrings/wazuh.gpg
</code></pre></div>
Le <code>chmod</code> permet d’appliquer les permissions 644 (lecture/écriture pour le propriétaire, lecture seule pour le groupe et les autres) pour garantir que le fichier est accessible de manière sécurisée par le système.</p>
<h3 id="d-ajout-du-depot-wazuh">d. Ajout du dépôt Wazuh<a class="headerlink" href="#d-ajout-du-depot-wazuh" title="Permanent link">🔗</a></h3>
<p><div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;deb [signed-by=/usr/share/keyrings/wazuh.gpg] https://packages.wazuh.com/4.x/apt/ stable main&quot;</span><span class="w"> </span><span class="se">\ </span><span class="w"> </span>
<span class="p">|</span><span class="w"> </span>tee<span class="w"> </span>/etc/apt/sources.list.d/wazuh.list
</code></pre></div>
Cette commande ajoute le dépôt Wazuh à la liste des sources de paquets du système. La ligne <code>deb [signed-by=/usr/share/keyrings/wazuh.gpg]</code> spécifie que les paquets du dépôt doivent être vérifiés avec la clé GPG stockée dans <code>/usr/share/keyrings/wazuh.gpg</code>. L'URL <code>https://packages.wazuh.com/4.x/apt/</code> stable main indique la source des paquets Wazuh pour la version 4.x. La commande tee écrit cette configuration dans le fichier /etc/apt/sources.list.d/wazuh.list.</p>
<h3 id="e-mise-a-jour-des-depots-et-installation-de-lagent">e. Mise à jour des dépôts et installation de l’agent<a class="headerlink" href="#e-mise-a-jour-des-depots-et-installation-de-lagent" title="Permanent link">🔗</a></h3>
<p><div class="highlight"><pre><span></span><code>apt<span class="w"> </span>update<span class="w">  </span>
</code></pre></div>
Mise à jour de la liste des paquets disponibles à partir de tous les dépôts configurés, y compris le dépôt Wazuh nouvellement ajouté.
<div class="highlight"><pre><span></span><code><span class="nv">WAZUH_MANAGER</span><span class="o">=</span><span class="s2">&quot;172.16.60.4&quot;</span><span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>wazuh-agent
</code></pre></div>
Cette commande définit la variable d’environnement WAZUH_MANAGER avec l’adresse IP du serveur Wazuh (172.16.60.4), qui sera utilisée par l’agent Wazuh pour communiquer avec le serveur. Ensuite, apt-get install wazuh-agent installe l’agent Wazuh, qui permet la surveillance de sécurité et la collecte de journaux sur ce poste Linux.</p>
<h3 id="f-activation-du-service">f. Activation du service<a class="headerlink" href="#f-activation-du-service" title="Permanent link">🔗</a></h3>
<p><div class="highlight"><pre><span></span><code>service<span class="w"> </span>wazuh-agent<span class="w"> </span>start
</code></pre></div>
Cette commande démarre le service de l’agent Wazuh sur le système. Une fois démarré, l’agent commence à collecter des informations (journaux, événements) et à communiquer avec le serveur Wazuh spécifié dans la configuration. Cela active la surveillance en temps réel.</p>
<h3 id="g-ajout-du-module-docker-listener">g. Ajout du module docker-listener<a class="headerlink" href="#g-ajout-du-module-docker-listener" title="Permanent link">🔗</a></h3>
<p>L’infrastructure itway hébergeant des conteneurs Docker, il est nécessaire d’activer le module docker listener pour activer leur supervision.</p>
<p>Pour celà il faut éditer le fichier de configuration suivant : </p>
<div class="highlight"><pre><span></span><code>nano<span class="w"> </span>/var/ossec/etc/ossec.conf
</code></pre></div>
<p>Ajouter à la fin du fichier :
<div class="highlight"><pre><span></span><code>&lt;ossec_config&gt;  
  #active le module de surveillance des conteneurs Docker 
  &lt;wodle name=&quot;docker-listener&quot;&gt;
    #définit la fréquence de vérification des conteneurs toutes les 10 minutes
    &lt;interval&gt;10m&lt;/interval&gt;
    #indique que Wazuh tentera 5 fois de se connecter à l’API Docker en cas d’échec  
    &lt;attempts&gt;5&lt;/attempts&gt;
    #lance le module dès le démarrage de l’agent
    &lt;run_on_start&gt;yes&lt;/run_on_start&gt;  
    #active explicitement le module
    &lt;disabled&gt;no&lt;/disabled&gt;  
  &lt;/wodle&gt;  
&lt;/ossec_config&gt;  
</code></pre></div></p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pied de page" >
        
          
          <a href="../it/grafana/" class="md-footer__link md-footer__link--prev" aria-label="Précédent: IT-GRAFANA">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Précédent
              </span>
              <div class="md-ellipsis">
                IT-GRAFANA
              </div>
            </div>
          </a>
        
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "search.highlight", "search.suggest", "content.code.annotate", "content.tabs.link", "content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>