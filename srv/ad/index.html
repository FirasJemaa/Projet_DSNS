
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Projet de fin d'année - ITWay">
      
      
        <meta name="author" content="Firase JEMAA & Najet BOUKADOUR">
      
      
      
        <link rel="prev" href="../srv/">
      
      
        <link rel="next" href="../pki/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>SRV-AD - ITWay</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#srv-ads01-windows-server-2022" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../.." title="ITWay" class="md-header__button md-logo" aria-label="ITWay" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ITWay
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SRV-AD
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Passer en mode clair"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer en mode clair" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="salte" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Passer en mode sombre"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer en mode sombre" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/FirasJemaa/Projet_DSNS_playbook" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Accueil

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../phase1/" class="md-tabs__link">
          
  
  
  Phase 1

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../phase2/" class="md-tabs__link">
          
  
  
  Phase 2

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../phase3/" class="md-tabs__link">
        
  
  
    
  
  Phase 3

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ITWay" class="md-nav__button md-logo" aria-label="ITWay" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ITWay
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/FirasJemaa/Projet_DSNS_playbook" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Phase 1
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Phase 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../phase1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Présentation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Phase 2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Phase 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../phase2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Présentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../conception/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Conception du projet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infra/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Infrastructure
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../prerequis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prérequis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Routeurs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Routeurs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../routeurs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration des Routeurs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../core-rt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CORE-RT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dmz-rt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-RT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" checked>
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    SRV
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            SRV
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../srv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objectif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    SRV-AD
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    SRV-AD
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objectifs" class="md-nav__link">
    <span class="md-ellipsis">
      Objectifs :
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-mise-en-place" class="md-nav__link">
    <span class="md-ellipsis">
      1. Mise en place
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Mise en place">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-preparation-du-serveur" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Préparation du serveur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-installation-du-role-adds-dns" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Installation du rôle ADDS + DNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-promouvoir-en-controleur-de-domaine" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Promouvoir en contrôleur de domaine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-configurer-le-dns" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Configurer le DNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-creation-zone-de-recherche-inversee" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. Création zone de recherche inversée
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creation-de-larchitecture-active-directory" class="md-nav__link">
    <span class="md-ellipsis">
      2. Création de l’architecture Active Directory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Création de l’architecture Active Directory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-creation-des-uo" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Création des UO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-creation-des-groupes-de-securite" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Création des groupes de sécurité
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-profils-itinerants" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Profils itinérants
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 Profils itinérants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-creation-du-dossier-partage-sur-srv-ads01" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 Création du dossier partagé sur SRV-ADS01
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-creation-des-repertoires-utilisateurs" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 Création des répertoires utilisateurs :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-affectation-du-profil-itinerant" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.3 Affectation du profil itinérant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#234-test" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.4 Test :
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-message-daccueil-lors-de-la-connexion" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Message d’accueil lors de la connexion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-audit-des-connexions-deconnexions-ainsi-que-des-modifications-gpo" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Audit des connexions / déconnexions, ainsi que des modifications GPO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-chiffrement-eleve-pour-le-protocole-rdp" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Chiffrement élevé pour le protocole RDP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-desactiver-le-compte-invite-sur-tous-les-postes" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Désactiver le compte invité sur tous les postes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-implementer-ipsec-avec-authentification-kerberos" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Implémenter IPSec avec authentification Kerberos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28-entrees-dns-statiques-pour-chaque-machine" class="md-nav__link">
    <span class="md-ellipsis">
      2.8. Entrées DNS statiques pour chaque machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#29-creation-des-zones-dns-inverses" class="md-nav__link">
    <span class="md-ellipsis">
      2.9 Création des zones DNS inverses
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-configuration-complete-du-serveur-pki-sur-lad" class="md-nav__link">
    <span class="md-ellipsis">
      3. Configuration complète du serveur PKI sur l’AD :
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Configuration complète du serveur PKI sur l’AD :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-creation-de-lenregistrement-dns-pour-srv-pki" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Création de l'enregistrement DNS pour SRV-PKI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-export-du-certificat-racine-depuis-le-serveur-pki" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Export du certificat racine depuis le serveur PKI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-transfert-du-certificat-vers-le-controleur-de-domaine" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Transfert du certificat vers le contrôleur de domaine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-deploiement-du-certificat-racine-via-gpo" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Déploiement du certificat racine via GPO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-verification-sur-un-poste-client" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Vérification sur un poste client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pki/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SRV-PKI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mail/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SRV-MAIL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    DMZ
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            DMZ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dmz/dmz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objectif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dmz/dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-DNS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dmz/rproxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-RPROXY
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dmz/web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-WEB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../dmz/smtp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DMZ-SMTP
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    IT
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            IT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../it/it/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Objectif
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../it/ansible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IT-ANSIBLE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../it/grafana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IT-GRAFANA
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../phase3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Phase 3
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#objectifs" class="md-nav__link">
    <span class="md-ellipsis">
      Objectifs :
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-mise-en-place" class="md-nav__link">
    <span class="md-ellipsis">
      1. Mise en place
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Mise en place">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-preparation-du-serveur" class="md-nav__link">
    <span class="md-ellipsis">
      1.1. Préparation du serveur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-installation-du-role-adds-dns" class="md-nav__link">
    <span class="md-ellipsis">
      1.2. Installation du rôle ADDS + DNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-promouvoir-en-controleur-de-domaine" class="md-nav__link">
    <span class="md-ellipsis">
      1.3. Promouvoir en contrôleur de domaine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-configurer-le-dns" class="md-nav__link">
    <span class="md-ellipsis">
      1.4. Configurer le DNS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15-creation-zone-de-recherche-inversee" class="md-nav__link">
    <span class="md-ellipsis">
      1.5. Création zone de recherche inversée
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-creation-de-larchitecture-active-directory" class="md-nav__link">
    <span class="md-ellipsis">
      2. Création de l’architecture Active Directory
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Création de l’architecture Active Directory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-creation-des-uo" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Création des UO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-creation-des-groupes-de-securite" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Création des groupes de sécurité
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-profils-itinerants" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Profils itinérants
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 Profils itinérants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-creation-du-dossier-partage-sur-srv-ads01" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 Création du dossier partagé sur SRV-ADS01
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-creation-des-repertoires-utilisateurs" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 Création des répertoires utilisateurs :
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#233-affectation-du-profil-itinerant" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.3 Affectation du profil itinérant
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#234-test" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.4 Test :
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-message-daccueil-lors-de-la-connexion" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Message d’accueil lors de la connexion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-audit-des-connexions-deconnexions-ainsi-que-des-modifications-gpo" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Audit des connexions / déconnexions, ainsi que des modifications GPO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#25-chiffrement-eleve-pour-le-protocole-rdp" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Chiffrement élevé pour le protocole RDP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#26-desactiver-le-compte-invite-sur-tous-les-postes" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Désactiver le compte invité sur tous les postes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#27-implementer-ipsec-avec-authentification-kerberos" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 Implémenter IPSec avec authentification Kerberos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#28-entrees-dns-statiques-pour-chaque-machine" class="md-nav__link">
    <span class="md-ellipsis">
      2.8. Entrées DNS statiques pour chaque machine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#29-creation-des-zones-dns-inverses" class="md-nav__link">
    <span class="md-ellipsis">
      2.9 Création des zones DNS inverses
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-configuration-complete-du-serveur-pki-sur-lad" class="md-nav__link">
    <span class="md-ellipsis">
      3. Configuration complète du serveur PKI sur l’AD :
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Configuration complète du serveur PKI sur l’AD :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-creation-de-lenregistrement-dns-pour-srv-pki" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Création de l'enregistrement DNS pour SRV-PKI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-export-du-certificat-racine-depuis-le-serveur-pki" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 Export du certificat racine depuis le serveur PKI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-transfert-du-certificat-vers-le-controleur-de-domaine" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Transfert du certificat vers le contrôleur de domaine
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-deploiement-du-certificat-racine-via-gpo" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Déploiement du certificat racine via GPO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-verification-sur-un-poste-client" class="md-nav__link">
    <span class="md-ellipsis">
      3.5. Vérification sur un poste client
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="srv-ads01-windows-server-2022"><strong>SRV-ADS01 Windows Server 2022</strong><a class="headerlink" href="#srv-ads01-windows-server-2022" title="Permanent link">🔗</a></h1>
<h2 id="objectifs">Objectifs  :<a class="headerlink" href="#objectifs" title="Permanent link">🔗</a></h2>
<ol>
<li><strong>Rôle du serveur</strong> : SRV-ADS01 est un contrôleur de domaine Active Directory chargé de l’authentification des utilisateurs et des machines, accessible depuis tous les réseaux internes de confiance.  </li>
<li><strong>Gestion Active Directory</strong> : Concevoir une architecture AD cohérente pour gérer les utilisateurs, groupes, machines et stratégies de groupe (GPO) selon les besoins de l’entreprise.</li>
</ol>
<p><strong>Groupes de sécurité à créer :</strong></p>
<ul>
<li>GRP-SECU-IT : Administrateurs du service informatique.  </li>
<li>GRP-SECU-COM : Administrateurs du service communication.  </li>
<li>GRP-SECU-DIR : Administrateurs du service commercial.  </li>
<li>GRP-SECU-PROD : Administrateurs du service production.  </li>
<li>Autres groupes selon les besoins identifiés.</li>
</ul>
<p><strong>Configurations spécifiques :</strong></p>
<p><strong>→Profils utilisateurs</strong> :</p>
<ul>
<li>Configurer des profils itinérants stockés dans un dossier dédié.  </li>
<li>Attribuer un lecteur réseau personnel (X:) à chaque utilisateur, monté automatiquement.  </li>
<li>Limiter chaque dossier personnel à un quota de 100 Mo.</li>
</ul>
<p><strong>→Restrictions et sécurité</strong> :</p>
<ul>
<li>Bloquer l’enregistrement de fichiers exécutables (.exe) sur les lecteurs réseau.  </li>
<li>Afficher un message d’accueil à la connexion : « Les accès à ce poste de travail sont réservés aux utilisateurs autorisés. Toute tentative d’accès non autorisée sera sanctionnée. »  </li>
<li>Activer l’audit des connexions/déconnexions et des modifications des stratégies.  </li>
<li>Configurer le chiffrement RDP à un niveau élevé.  </li>
<li>Désactiver le compte invité sur tous les postes.  </li>
<li>Implémenter IPSec avec authentification Kerberos.</li>
</ul>
<p><strong>→Pare-feu Windows</strong> :</p>
<ul>
<li>Autoriser uniquement les services WINRM, RDP, Remote Assistance, Network Discovery et autres services nécessaires.</li>
</ul>
<p><strong>→Gestion DNS</strong> :</p>
<ul>
<li>Créer une entrée DNS statique pour chaque machine interne sur le serveur DNS interne.  </li>
<li>Configurer les zones DNS inverses pour les réseaux internes.</li>
</ul>
<h2 id="1-mise-en-place">1. Mise en place<a class="headerlink" href="#1-mise-en-place" title="Permanent link">🔗</a></h2>
<h3 id="11-preparation-du-serveur">1.1. Préparation du serveur<a class="headerlink" href="#11-preparation-du-serveur" title="Permanent link">🔗</a></h3>
<ul>
<li><code>ncpa.cpl</code> → IP statique  </li>
<li>DNS primaire : IP du serveur AD  </li>
<li>DNS secondaire : Google (8.8.8.8) ou Cloudflare (1.1.1.1)  </li>
<li>Renommer le serveur → <code>SRV-ADS01</code> → redémarrage</li>
</ul>
<h3 id="12-installation-du-role-adds-dns">1.2. Installation du rôle ADDS + DNS<a class="headerlink" href="#12-installation-du-role-adds-dns" title="Permanent link">🔗</a></h3>
<ul>
<li>Gestionnaire de serveur → Gérer → Ajouter des rôles  </li>
<li>Cocher : <strong>Active Directory Domain Services</strong> et <strong>DNS Server</strong>  </li>
<li>Installer &gt; Fermer après l'installation</li>
</ul>
<h3 id="13-promouvoir-en-controleur-de-domaine">1.3. Promouvoir en contrôleur de domaine<a class="headerlink" href="#13-promouvoir-en-controleur-de-domaine" title="Permanent link">🔗</a></h3>
<ul>
<li>Cliquer sur la notification jaune → <em>Promouvoir ce serveur…</em>  </li>
<li><strong>Nouvelle forêt</strong> → nom : <code>itway.local</code>  </li>
<li>Niveau fonctionnel : <code>Windows Server 2016</code>  </li>
<li>Définir le mot de passe DSRM  </li>
<li>Valider les options DNS et NetBIOS  </li>
<li>Suivant jusqu'à la vérification → Installer → Redémarrage</li>
</ul>
<h3 id="14-configurer-le-dns">1.4. Configurer le DNS<a class="headerlink" href="#14-configurer-le-dns" title="Permanent link">🔗</a></h3>
<p>Gestionnaire DNS → vérifier :<br />
-Zone de recherche directe : <code>itway.local</code><br />
-Présence de <code>SOA</code>, <code>NS</code>, <code>A</code></p>
<p>Test de la résolution DNS avec : <br />
<code>nslookup itway.local</code><br />
<code>nslookup [IP du serveur]</code></p>
<h3 id="15-creation-zone-de-recherche-inversee">1.5. Création zone de recherche inversée<a class="headerlink" href="#15-creation-zone-de-recherche-inversee" title="Permanent link">🔗</a></h3>
<ul>
<li>DNS &gt; clic droit sur “Zone de recherche inversée” &gt; Nouvelle zone  </li>
<li>Zone principale &gt; enregistrer dans AD &gt; nom : <code>IPv4</code>  </li>
<li>ID réseau : <code>172.16.50.2</code>  </li>
<li>Créer un enregistrement pointeur (<code>PTR</code>) :  </li>
<li>IP : 172.16.50.2  </li>
<li>
<p>Nom d'hôte : <code>SRV-ADS01.itway.local</code></p>
</li>
<li>
<p>Vérifier avec : </p>
</li>
</ul>
<p><code>nslookup 172.16.50.2</code></p>
<h2 id="2-creation-de-larchitecture-active-directory">2. Création de l’architecture Active Directory<a class="headerlink" href="#2-creation-de-larchitecture-active-directory" title="Permanent link">🔗</a></h2>
<h3 id="21-creation-des-uo">2.1 Création des UO<a class="headerlink" href="#21-creation-des-uo" title="Permanent link">🔗</a></h3>
<p>L’objectif est de structurer les utilisateurs et ordinateurs dans des <strong>OU</strong> logiques pour appliquer des GPO ciblées.</p>
<p>Dans la console Utilisateurs et ordinateurs AD, nous avons créé l’arborescence suivante :</p>
<p>ITWAY<br />
├── Utilisateurs<br />
├── Groupes<br />
├── Machines<br />
├── Services<br />
    ├── IT<br />
    ├── COM<br />
    ├── DIR<br />
    ├── PROD</p>
<h3 id="22-creation-des-groupes-de-securite">2.2 Création des groupes de sécurité<a class="headerlink" href="#22-creation-des-groupes-de-securite" title="Permanent link">🔗</a></h3>
<p>L’objectif est de permettre une gestion des droits par service (GPO, partages, accès, etc.)</p>
<p>Dans l’OU <strong>Groupes</strong> :</p>
<p>Clic droit &gt; Nouveau &gt; Groupe<br />
Nom : <code>GRP-SECU-IT</code><br />
Type : <strong>Sécurité</strong><br />
Étendue : <strong>Global</strong></p>
<p>À reproduire pour les autres groupes</p>
<h3 id="23-profils-itinerants">2.3 Profils itinérants<a class="headerlink" href="#23-profils-itinerants" title="Permanent link">🔗</a></h3>
<p>L’objectif est de permettre aux utilisateurs de retrouver leur environnement (bureau, documents, etc…) sur n’importe quel poste du domaine.</p>
<h4 id="231-creation-du-dossier-partage-sur-srv-ads01">2.3.1 Création du dossier partagé sur SRV-ADS01<a class="headerlink" href="#231-creation-du-dossier-partage-sur-srv-ads01" title="Permanent link">🔗</a></h4>
<ul>
<li>Dossier : <code>D:\Profils</code>  </li>
<li>Clic droit &gt; Propriétés &gt; Partage &gt; Partage avancé &gt; Partager &gt; Nom : <code>Profils$</code> (le <code>$</code> cache le partage)  </li>
<li>Autorisations : <code>Everyone</code> &gt; Lecture/Écriture (sera ensuite sécurisé par NTFS)</li>
</ul>
<h4 id="232-creation-des-repertoires-utilisateurs">2.3.2 Création des répertoires utilisateurs :<a class="headerlink" href="#232-creation-des-repertoires-utilisateurs" title="Permanent link">🔗</a></h4>
<ul>
<li>Pour chaque utilisateur : créer un dossier <code>D:\Profils\%username%</code>  </li>
<li>Attribuer les droits NTFS : <code>%username%</code> \= Contrôle total</li>
</ul>
<h4 id="233-affectation-du-profil-itinerant">2.3.3 Affectation du profil itinérant<a class="headerlink" href="#233-affectation-du-profil-itinerant" title="Permanent link">🔗</a></h4>
<p>Dans "Utilisateurs et ordinateurs AD" :</p>
<ul>
<li>Ouvrir la fiche utilisateur  </li>
<li>Onglet Profil : Chemin du profil : <code>\\SRV-ADS01\Profils$\%username%</code></li>
</ul>
<h4 id="234-test">2.3.4 Test :<a class="headerlink" href="#234-test" title="Permanent link">🔗</a></h4>
<p>- Créer un dossier ou fichier sur le bureau puis se déconnecter</p>
<p>- Se connecter avec le même utilisateur sur un autre PC du domaine</p>
<p>- Vérifier que ce fichier apparaît</p>
<p>- Vérifier que l’utilisateur ne voit pas les autres dossiers</p>
<h3 id="24-message-daccueil-lors-de-la-connexion">2.4 Message d’accueil lors de la connexion<a class="headerlink" href="#24-message-daccueil-lors-de-la-connexion" title="Permanent link">🔗</a></h3>
<p>L’objectif est d’afficher un avertissement légal à la connexion d’un utilisateur.</p>
<ul>
<li>
<p>Créer une GPO : <code>GPO_message_connexion</code></p>
</li>
<li>
<p>Éditer :</p>
</li>
</ul>
<p><code>Configuration ordinateur &gt; Paramètres Windows &gt; Paramètres de sécurité &gt; Options de sécurité</code></p>
<ul>
<li><strong>Message texte d’avertissement</strong> : "Les accès à ce poste de travail sont réservés aux utilisateurs autorisés. Toute tentative d’accès non autorisée sera sanctionnée."  </li>
<li><strong>Titre</strong> : "Avertissement de sécurité"</li>
</ul>
<p>Le bannière contenant le message doit s’afficher avant toute tentative de connexion.</p>
<h3 id="25-audit-des-connexions-deconnexions-ainsi-que-des-modifications-gpo">2.5 Audit des connexions / déconnexions, ainsi que des modifications GPO<a class="headerlink" href="#25-audit-des-connexions-deconnexions-ainsi-que-des-modifications-gpo" title="Permanent link">🔗</a></h3>
<p>L’objectif est de surveiller l'activité des connexions et déconnexions.</p>
<p>Créer une GPO <code>Audit_AD</code> :</p>
<p><code>Configuration ordinateur &gt; Paramètres Windows &gt; Paramètres de sécurité &gt; Stratégies locales &gt; Stratégie d’audit</code></p>
<ul>
<li><strong>Audit des événements d'ouverture de session</strong> : Activé (Succès + Échec)  </li>
<li><strong>Audit des modifications de stratégie</strong> : Activé</li>
</ul>
<p>Pour tester, il suffit de se rendre dans les journaux windows &gt; Sécurité : </p>
<p>→ constater les Logon et Logoff pour les connexions/déconnexions </p>
<p>→constater les ID de modification</p>
<h3 id="_1"><a class="headerlink" href="#_1" title="Permanent link">🔗</a></h3>
<h3 id="25-chiffrement-eleve-pour-le-protocole-rdp">2.5 Chiffrement élevé pour le protocole RDP<a class="headerlink" href="#25-chiffrement-eleve-pour-le-protocole-rdp" title="Permanent link">🔗</a></h3>
<p>L’Objectif est d’assurer la sécurité des sessions RDP.</p>
<p><strong>Étapes :</strong></p>
<p><code>Configuration ordinateur &gt; Modèles d’administration &gt; Composants Windows &gt; Services Bureau à distance &gt; Hôte de session Bureau à distance &gt; Sécurité</code></p>
<ul>
<li><strong>Chiffrement des connexions client</strong> : Activé, Niveau : Haut</li>
</ul>
<h3 id="26-desactiver-le-compte-invite-sur-tous-les-postes">2.6 Désactiver le compte invité sur tous les postes<a class="headerlink" href="#26-desactiver-le-compte-invite-sur-tous-les-postes" title="Permanent link">🔗</a></h3>
<p>L’objectif est d’éviter l’usage du compte Guest car non sécurisé.</p>
<p><strong>Étapes :</strong></p>
<p><code>Configuration ordinateur &gt; Paramètres Windows &gt; Paramètres de sécurité &gt; Stratégies locales &gt; Options de sécurité</code></p>
<p>→<strong>Comptes : statut du compte invité</strong> : Désactivé</p>
<p>Pour vérifier, depuis un poste client ouvrir <code>lusrmgr.msc</code> et vérifier que le compte invité possède une icône avec une flèche vers le bas.</p>
<p>Cette GPO est à appliquer sur l’UO Ordinateurs.</p>
<h3 id="27-implementer-ipsec-avec-authentification-kerberos">2.7 Implémenter IPSec avec authentification Kerberos<a class="headerlink" href="#27-implementer-ipsec-avec-authentification-kerberos" title="Permanent link">🔗</a></h3>
<p>L’objectif est de sécuriser les communications entre postes (chiffrement et authentification).</p>
<p><strong>Étapes :</strong></p>
<ul>
<li>Ouvrir <code>secpol.msc</code> &gt; Stratégies IPSec  </li>
<li>Créer une stratégie : <code>IPSec-Kerberos</code><br />
<code>→</code> Mode de sécurité : Kerberos</li>
</ul>
<p>→ Filtrer les communications sensibles (ex. entre contrôleurs de domaine)</p>
<p>Le déploiement se fait via GPO pour toutes les machines mais hélas nous n’avons pas su trouver le bon filtrage ni réussi à trouver la manière de tester cette GPO qui est donc existante sans que nous sachions si elle fonctionne ou non.</p>
<h3 id="28-entrees-dns-statiques-pour-chaque-machine">2.8. Entrées DNS statiques pour chaque machine<a class="headerlink" href="#28-entrees-dns-statiques-pour-chaque-machine" title="Permanent link">🔗</a></h3>
<p>L’objectif est d’assurer une résolution fiable des noms internes.</p>
<p><strong>Étapes :</strong></p>
<p>Dans la console DNS (<code>dnsmgmt.msc</code>) :</p>
<ul>
<li>Aller dans la zone <code>itway.local</code>  </li>
<li>Ajouter une <strong>nouvelle entrée de type A</strong> pour chaque machine :<br />
  →Nom : <code>SRV-X</code><br />
<code>→</code>IP : <code>172.16.X.X</code></li>
</ul>
<h3 id="29-creation-des-zones-dns-inverses">2.9 Création des zones DNS inverses<a class="headerlink" href="#29-creation-des-zones-dns-inverses" title="Permanent link">🔗</a></h3>
<p>Cela permet la résolution inverse (IP → nom), cette fonctionnalité est notamment utile pour logs, sécurité, audits.</p>
<p><strong>Étapes :</strong></p>
<ul>
<li>Console DNS &gt; Zone de recherche inversée &gt; Nouvelle zone  </li>
<li>Exemple : réseau <code>192.168.10.0/24</code><br />
<code>→</code> Zone : <code>10.168.192.in-addr.arpa</code>  </li>
<li>Ajouter les enregistrements PTR correspondant aux entrées A</li>
</ul>
<h2 id="3-configuration-complete-du-serveur-pki-sur-lad">3. Configuration complète du serveur PKI sur l’AD :<a class="headerlink" href="#3-configuration-complete-du-serveur-pki-sur-lad" title="Permanent link">🔗</a></h2>
<p>Voici l’enregistrement DNS et l’ensemble de la configuration du serveur PKI sur l’active Directory : </p>
<h3 id="31-creation-de-lenregistrement-dns-pour-srv-pki">3.1 Création de l'enregistrement DNS pour SRV-PKI<a class="headerlink" href="#31-creation-de-lenregistrement-dns-pour-srv-pki" title="Permanent link">🔗</a></h3>
<p>Depuis le serveur DNS de l’AD (172.16.50.2) :</p>
<ul>
<li>Ouvrir le <strong>Gestionnaire DNS</strong> (<code>dnsmgmt.msc</code>)  </li>
<li>Développer <strong>Zones de recherche directes &gt; itway.local</strong>  </li>
<li>Clic droit sur itway.local &gt; <strong>Nouvel hôte (A ou AAAA)...</strong>  </li>
<li>
<p>Remplir les champs suivants :</p>
</li>
<li>
<p>Nom : srv-pki</p>
</li>
<li>
<p>Adresse IP : 172.16.50.3</p>
</li>
<li>
<p>Cocher la case <strong>"Créer un enregistrement de pointeur associé"</strong></p>
</li>
<li>
<p>Cliquer sur <strong>Ajouter un hôte</strong>  </p>
</li>
<li>Vérification de la résolution DNS pour le nom d'hôte srv-pki.itway.local. </li>
</ul>
<p><code>nslookup srv-pki.itway.local</code></p>
<p><em>Résultat attendu : 172.16.50.3 (Cela permet de s'assurer que le système peut </em><em>trouver</em><em> l'adresse IP associée à ce nom via le serveur DNS configuré)</em></p>
<h3 id="32-export-du-certificat-racine-depuis-le-serveur-pki">3.2 Export du certificat racine depuis le serveur PKI<a class="headerlink" href="#32-export-du-certificat-racine-depuis-le-serveur-pki" title="Permanent link">🔗</a></h3>
<p><strong>Depuis le serveur PKI</strong> :</p>
<ol>
<li>Vérifier les chemins dans le fichier de configuration qui se trouve dans notre fichier de config ansible suivant :</li>
</ol>
<p><code># Configuration des chemins</code><br />
<code>pki_ca_dir: "/etc/pki"</code><br />
<code>pki_ca_key_name: "ca.key"</code><br />
<code>pki_ca_cert_name: "ca.crt"</code><br />
<code>pki_openssl_conf: "/etc/ssl/openssl.cnf"</code></p>
<p>Donc le chemin complet du ca.crt est  :<br />
<code>/etc/pki/certs/ca.crt</code></p>
<ol>
<li>Convertir le certificat en format compatible Windows :</li>
</ol>
<p>Depuis le serveur PKI (Debian) :<br />
<code>openssl x509 -in /etc/pki/certs/ca.crt -out  /etc/pki/certs/ca.cer -outform DER</code></p>
<p><em>Cette commande convertit un certificat depuis un format .crt en PEM vers un .cer en DER compatible avec Windows.</em></p>
<h3 id="33-transfert-du-certificat-vers-le-controleur-de-domaine">3.3 Transfert du certificat vers le contrôleur de domaine<a class="headerlink" href="#33-transfert-du-certificat-vers-le-controleur-de-domaine" title="Permanent link">🔗</a></h3>
<ol>
<li>Créer un répertoire de réception sur le contrôleur de domaine pour y stocker notre certificat :</li>
</ol>
<p><code>mkdir C:\Certs</code></p>
<ol>
<li>Vérifier que la disponibilité du service SSH :</li>
</ol>
<p>Nous avons besoin du service ssh sur windows pour effectuer notre transfert de certificat depuis le serveur PKI vers notre contrôleur de domaine. Il faut donc vérifier d’abord s’il est bien installé. Ouvrir PowerShell en administrateur sur le serveur Windows et vérifier s’il est en cours d’exécution : <br />
<code>Get-Service sshd</code></p>
<p>Si le statut est "Running", alors tout est ok. Sinon, il faut le démarrer :<br />
<code>Start-Service sshd</code></p>
<p>Et s’il apparaît impossible de trouver un service assorti du nom “sshd”, il faut l’installer.<br />
<code>Get-WindowsCapability -Online | Where-Object Name -like 'OpenSSH*'</code></p>
<p>Vérifier s’il le service est installés côté client et serveur, sinon installer celui qui est manquant, dans notre cas il nous manquait le serveur que nous avons téléchargé et installé : <br />
<code>Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0</code></p>
<p>Puis vérifier l’installation : <br />
<code>Get-Service sshd</code></p>
<p>Si tout s’est bien passé, le service sera listé, probablement avec le statut “Stopped”, alors il faudra le démarrer : <br />
<code>Start-Service sshd</code></p>
<ol>
<li>Transférer le certificat :</li>
</ol>
<p>Maintenant que tout est prêt, il faut copier le certificat ca.cer sur le contrôleur de domaine : <br />
<code>scp /etc/pki/certs/ca.cer Administrator@172.16.50.2:C:\Certs</code></p>
<p><em>La commande scp (Secure Copy) est utilisée pour transférer des fichiers de manière sécurisée entre des systèmes (locaux et distants ou bien 2 systèmes distants).</em></p>
<h3 id="34-deploiement-du-certificat-racine-via-gpo">3.4 Déploiement du certificat racine via GPO<a class="headerlink" href="#34-deploiement-du-certificat-racine-via-gpo" title="Permanent link">🔗</a></h3>
<p>Sur le contrôleur de domaine (172.16.50.2) :</p>
<ol>
<li>Ouvrir la console de gestion des stratégies de groupe : gpmc.msc  </li>
<li>Créer une nouvelle GPO ou modifier une existante :  </li>
<li>Aller dans Forêt &gt; Domaines &gt; itway.local  </li>
<li>Clic droit sur Objet de stratégie de groupe &gt; Nouveau  </li>
<li>Nommer la GPO : Déploiement Certificat Racine  </li>
<li>Éditer la GPO :  </li>
<li>Aller dans Configuration ordinateur &gt; Stratégies &gt; Paramètres Windows &gt; Paramètres de sécurité &gt; Stratégies de clé publique &gt; Autorités de certification racines de confiance  </li>
<li>Clic droit &gt; Importer  </li>
<li>Sélectionner C:\Certs\ca.cer et valider  </li>
<li>Appliquer la GPO aux unités organisationnelles souhaitées :  </li>
<li>Dans la console de gestion des stratégies de groupe (gpmc.msc), naviguer jusqu'à la GPO Déploiement Certificat Racine.  </li>
<li>Clic droit sur la GPO &gt; Lier un objet de stratégie de groupe existant.  </li>
<li>Sélectionner l'unité organisationnelle (OU) contenant les ordinateurs concernés.  </li>
<li>Valider et fermer la console.  </li>
<li>Forcer la mise à jour des stratégies sur le contrôleur de domaine :<br />
<code>gpupdate /force</code>  </li>
<li>Vérification de l’application de la GPO sur le domaine :<br />
<code>gpresult /r</code></li>
</ol>
<h3 id="35-verification-sur-un-poste-client">3.5. Vérification sur un poste client<a class="headerlink" href="#35-verification-sur-un-poste-client" title="Permanent link">🔗</a></h3>
<ol>
<li>
<p>Aller dans le <strong>Panneau de configuration &gt; Options Internet &gt; Contenu &gt; Certificats &gt; Autorités de certification</strong> (ou certmgr.msc dans la barre de recherches)</p>
</li>
<li>
<p>Dans l’onglet Autorités de certification racines de confiance, vérifier la présence du certificat srv-pki.itway.local</p>
</li>
</ol>
<p>Pour terminer : </p>
<ul>
<li>Chaque GPO a été placée dans l’OU qui nous a semblé adaptée ou à la racine  </li>
<li>Toutes les GPO ont été forcées avec la commande gpupdate /force</li>
</ul>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Pied de page" >
        
          
          <a href="../srv/" class="md-footer__link md-footer__link--prev" aria-label="Précédent: Objectif">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Précédent
              </span>
              <div class="md-ellipsis">
                Objectif
              </div>
            </div>
          </a>
        
        
          
          <a href="../pki/" class="md-footer__link md-footer__link--next" aria-label="Suivant: SRV-PKI">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Suivant
              </span>
              <div class="md-ellipsis">
                SRV-PKI
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "navigation.footer", "search.highlight", "search.suggest", "content.code.annotate", "content.tabs.link", "content.code.copy"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>